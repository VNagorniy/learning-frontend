## Оглавление

- [Module паттерн](#module-паттерн)
  - [Модули ES2015](#модули-es2015)
- [React](#react)
- [Динамический импрорт](#динамический-импорт)

# Module паттерн

**Шаблон модуль** — позволяет разделить код на более мелкие, пригодные для повторного использования фрагменты. Модули также позволяют сохранять определённые значения в файле как приватные.
Если мы явно не экспортируем определённое значение, оно недоступно за пределами этого модуля.

## Модули ES2015

В ES2015 появились встроенные модули JavaScript.

Чтобы сделать функции из других js-файлов доступными, их сначала нужно **экспортировать**.

Чтобы экспортировать код из модуля, можно использовать **export** ключевое слово.

1. Один из способов экспорта функций — использовать **именованные экспорты**: можно просто добавить _export_ ключевое слово перед теми частями, которые мы хотим сделать общедоступными.

2. Помимо _именованных экспортов_, которые определяются только _export_ ключевым словом, также можно использовать **экспорт по умолчанию**. **Для каждого модуля может быть только один экспорт по умолчанию**.

> Разница между **именованными экспортами** и **экспортами по умолчанию** заключается в способе экспорта значения из модуля, что фактически меняет способ импорта значения.

Однако простого экспорта значений из модуля недостаточно, чтобы сделать их общедоступными для всех файлов. Чтобы использовать экспортированные из модуля значения, необходимо явно **импортировать** их в файл, который должен на них ссылаться.

Поскольку JavaScript знает, что это значение всегда является значением, экспортированным по умолчанию, мы можем дать импортированному значению по умолчанию другое имя, чем то, под которым мы его экспортировали.

Также можем импортировать все экспорты из модуля, то есть все именованные экспорты и экспорт по умолчанию, используя звёздочку **\*** и указав имя, под которым мы хотим импортировать модуль.

А если нужно переиновать переменную используем ключевок слова **as**

```js
import {
  add as addValues
}
```

[Пример реализации паттерна именнованным экспортом](https://codesandbox.io/embed/holy-cookies-7t2cp).

## React

При разработке приложений на React часто приходится иметь дело с большим количеством компонентов. Вместо того, чтобы писать все компоненты в одном файле, мы можем разделить их по отдельным файлам, фактически создав модуль для каждого компонента.

[Пример использования](https://codesandbox.io/embed/heuristic-brattain-ipcyb).

## Динамический импорт

При импорте всех модулей в начале файла все модули загружаются раньше остальных. В некоторых случаях нам нужно импортировать только один модуль при определённом условии. **Динамический импорт** позволяет импортировать модули по запросу.

```js
import('module').then((module) => {
	module.default();
	module.namedExport();
});

// Or with async/await
(async () => {
	const module = await import('module');
	module.default();
	module.namedExport();
})();
```

[Пример использования №1](https://codesandbox.io/embed/green-sound-j60fl).

Помимо возможности импорта модулей по запросу, **import()** функция может принимать выражение. Это позволяет передавать шаблонные литералы для динамической загрузки модулей на основе заданного значения.

[Пример использования №2](https://codesandbox.io/embed/dank-water-otztc).

<hr>
