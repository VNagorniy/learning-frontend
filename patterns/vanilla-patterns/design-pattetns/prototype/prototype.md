## Оглавление

- [Prototype паттерн](#prototype-паттерн)
  - [Пример использования](#пример-использования)
- [Object.create](#objectcreate)

# Prototype паттерн

**Шаблон прототипа** — это удобный способ совместного использования свойств многими объектами одного типа. **Прототип** — это встроенный объект JavaScript, доступ к которому осуществляется через цепочку прототипов.

## Пример использования

Допустим, мы хотим создать много собак!

```js
class Dog {
	constructor(name) {
		this.name = name;
	}

	bark() {
		return `Woof!`;
	}
}

const dog1 = new Dog('Daisy');
const dog2 = new Dog('Max');
const dog3 = new Dog('Spot');
```

Обратите внимание, что класс **constructor** содержит **name** свойство, а сам класс содержит **bark** свойство. При использовании классов ES6 все свойства, определённые в самом классе, **bark** в данном случае автоматически добавляются в класс prototype.

Мы можем увидеть это **prototype** напрямую, обратившись **prototype** к свойству конструктора или через \***\*proto\*\*** свойство любого экземпляра.

```js
console.log(Dog.prototype);
// constructor: ƒ Dog(name, breed) bark: ƒ bark()

console.log(dog1.__proto__);
// constructor: ƒ Dog(name, breed) bark: ƒ bark()
```

Значение \***\*proto\*\*** в любом экземпляре конструктора является прямой ссылкой на прототип конструктора!

> **Шаблон прототипа** очень эффективен при работе с объектами, которым требуется доступ к одним и тем же свойствам. Вместо того, чтобы каждый раз создавать дубликат свойства, мы можем просто добавить его в прототип, поскольку все экземпляры имеют доступ к объекту-прототипу.

Допустим, наши собаки должны уметь не только лаять, но и играть! Мы можем сделать это, добавив **play** свойство в _прототип_.

```js
//...

Dog.prototype.play = () => console.log('Playing now!');
```

_Создам ещё один тип собаки - летающую_

```js
class SuperDog extends Dog {
	constructor(name) {
		super(name);
	}

	fly() {
		return 'Flying!';
	}
}

const dog1 = new SuperDog('Daisy');

dog1.bark();
dog1.fly();
```

У нас есть доступ к **bark** методу, поскольку мы расширили _Dog_ класс. Значение \***\*proto\*\*** прототипа _SuperDog_ указывает на _Dog.prototype_ объект!

## Object.create

Метод **Object.create** позволяет нам создать новый объект, которому мы можем явно передать значение его прототипа.

```js
const dog = {
	bark() {
		return `Woof!`;
	}
};

const pet1 = Object.create(dog);
```

Хотя **pet1** сам объект не имеет никаких свойств, у него есть доступ к свойствам в цепочке прототипов!

> **Object.create** — это простой способ позволить объектам напрямую наследовать свойства других объектов, указав прототип вновь созданного объекта.

<hr>
