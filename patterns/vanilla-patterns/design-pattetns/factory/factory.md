## Оглавление

- [Factory паттерн](#factory-паттерн)
  - [Пример использования](#пример-использования)
- [Плюсы](#плюсы)
- [Минусы](#минусы)

# Factory паттерн

**Шаблон «фабрика»** позволяет использовать **фабричные функции** для создания новых объектов.

> Функция считается **фабричной**, когда возвращает новый объект **без использования ключевого new** слова!

Шаблон «Фабрика» может быть полезен при создании относительно сложных и настраиваемых объектов.

С помощью шаблона «Фабрика» мы можем легко создавать новые объекты, содержащие пользовательские ключи и параметры!

```js
const createObjectFromArray = ([key, value]) => ({
	[key]: value
});

createObjectFromArray(['name', 'John']); // { name: "John" }
```

## Пример использования

**Допустим, нам нужно много пользователей для нашего приложения**.
Можно создать новых пользователей с помощью свойств **firstName**, **lastName** и **email**.

**Функция-фабрика fullName** также добавляет свойство к вновь созданному объекту, **возвращая firstName** и **lastName**.

```js
const createUser = ({ firstName, lastName, email }) => ({
	firstName,
	lastName,
	email,
	fullName() {
		return `${this.firstName} ${this.lastName}`;
	}
});
```

Теперь мы можем легко создать нескольких пользователей, вызвав эту **createUser** функцию.

[Пример реализации](https://codesandbox.io/embed/divine-glade-8s5cv).

## Плюсы

> Шаблон «Фабрика» полезен, когда нам нужно создать несколько небольших объектов с одинаковыми свойствами.

## Минусы

В JavaScript шаблон «фабрика» — это не более чем функция, которая возвращает объект без использования new ключевого слова.

**Стрелочные функции** позволяют создавать небольшие фабричные функции, которые неявно возвращают объект каждый раз.

> Однако во многих случаях может оказаться более эффективным с точки зрения использования памяти создание новых экземпляров вместо создания новых объектов каждый раз.

```js
class User {
	constructor(firstName, lastName, email) {
		this.firstName = firstName;
		this.lastName = lastName;
		this.email = email;
	}

	fullName() {
		return `${this.firstName} ${this.lastName}`;
	}
}

const user1 = new User({
	firstName: 'John',
	lastName: 'Doe',
	email: 'john@doe.com'
});

const user2 = new User({
	firstName: 'Jane',
	lastName: 'Doe',
	email: 'jane@doe.com'
});
```

<hr>
