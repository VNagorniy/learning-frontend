## Event delegation

**Event delegation** ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –≤–º–µ—Å—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ, –µ—Å–ª–∏ –¥–æ—á–µ—Ä–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∏–ª–∏ –∏—Ö –º–Ω–æ–≥–æ.

```js
// –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç
const parent = document.querySelector('#parent');

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
parent.addEventListener('click', (event) => {
	if (event.target.matches('.child')) {
		console.log(`–ö–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É: ${event.target.textContent}`);
	}
});

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const newChild = document.createElement('div');
newChild.className = 'child';
newChild.textContent = '–ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç';
parent.appendChild(newChild);
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏–π –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º —ç–ª–µ–º–µ–Ω—Ç–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫–∏ –ø–æ –¥–æ—á–µ—Ä–Ω–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º, –≤–∫–ª—é—á–∞—è –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥ –∏ –ø–æ–≤—ã—à–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

<hr/>

## ‚öôÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ Passive Event Listeners –≤ JavaScript –∏ –∑–∞—á–µ–º –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?

**Passive Event Listeners** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ–±—â–∞–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –≤—ã–∑–æ–≤–µ—Ç preventDefault(). –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–≤—ã—Å–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º –∏ touch-—Å–æ–±—ã—Ç–∏—è–º–∏.

‚û°Ô∏è –ü—Ä–∏–º–µ—Ä:

```js
window.addEventListener(
	'scroll',
	() => {
		console.log('–ü—Ä–æ–∫—Ä—É—Ç–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã');
	},
	{ passive: true }
);
```

üó£Ô∏è –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ñ–ª–∞–≥ { passive: true } –≥–æ–≤–æ—Ä–∏—Ç –±—Ä–∞—É–∑–µ—Ä—É, —á—Ç–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –±—É–¥–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä—É —É—Å–∫–æ—Ä–∏—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∫—É –∏ —Å–¥–µ–ª–∞—Ç—å —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–º.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å passive listeners –¥–ª—è —Å–æ–±—ã—Ç–∏–π scroll, touchstart, touchmove –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.
–ü–æ–¥—Ä–æ–±–Ω–µ–µ [—Ç—É—Ç](https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parameters)

<hr/>

## ‚öôÔ∏è –ß—Ç–æ —Ç–∞–∫–æ–µ event.stopPropagation() –≤ JavaScript –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

**event.stopPropagation()** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–ø–ª—ã—Ç–∏—è —Å–æ–±—ã—Ç–∏—è. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —Å–æ–±—ã—Ç–∏–µ –Ω–µ –±—É–¥–µ—Ç "–ø–æ–¥–Ω–∏–º–∞—Ç—å—Å—è" –≤–≤–µ—Ä—Ö –ø–æ DOM-–¥–µ—Ä–µ–≤—É –∏ –≤—ã–∑—ã–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö

‚û°Ô∏è –ü—Ä–∏–º–µ—Ä:

```html
<div id="parent">
	<button id="child">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
</div>

<script>
	document.getElementById('parent').addEventListener('click', () => {
		console.log('–ö–ª–∏–∫ –ø–æ —Ä–æ–¥–∏—Ç–µ–ª—é');
	});

	document.getElementById('child').addEventListener('click', (event) => {
		event.stopPropagation();
		console.log('–ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ');
	});
</script>
```

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ –≤—ã–∑–æ–≤–µ—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ stopPropagation() –æ—Å—Ç–∞–Ω–æ–≤–∏–ª –≤—Å–ø–ª—ã—Ç–∏–µ. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–∂–µ–ª–∞–Ω–Ω—ã—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.
–ü–æ–¥—Ä–æ–±–Ω–µ–µ [—Ç—É—Ç](https://developer.mozilla.org/ru/docs/Web/API/Event/stopPropagation)

<hr/>
